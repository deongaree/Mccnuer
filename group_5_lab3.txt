概要设计说明书

1引言	2
1.1编写目的	2
1.2背景	2
1.3定义	2
1.4参考资料	2
2总体设计	3
2.1需求规定	3
2.2运行环境	3
2.3基本设计概念和处理流程	3
2.4结构	4
2.5功能器求与程序的关系	4
2.6人工处理过程	5
2.7尚未问决的问题	5
3接口设计	5
3.1用户接口	5
3.2外部接口	5
3.3内部接口	5
4运行设计	5
4.1运行模块组合	5
4.2运行控制	5
4.3运行时间	5
5系统数据结构设计	6
5.1逻辑结构设计要点	6
5.2物理结构设计要点	7
5.3数据结构与程序的关系	7
6系统出错处理设计	7
6.1出错信息	7
6.2补救措施	8
6.3系统维护设计	8
 
1引言
1.1编写目的
编写本概要说明书是为了说明该网上订餐系统的总体设计、接口设计、运行设计、系统数据结构设计以及系统出错处理设计。为今后详细设计该系统以及编码过程打下基础。该概要设计说明说的预期读者是该软件的设计人员。
1.2背景
1、	所建议的软件系统的名称：华师“欢乐送”
2、	项目的提出者：华中师范大学周伟老师
3、	项目的开发者：华中师范大学2013级软件工程第五小组：李冠华、沈兰、汲召召
4、	主要用户：华师全体在校师生（以学生为主）

在网络信息化的高速发展的大时代，基于移动端的（如智能手机、平板电脑）应用相比其他PC端第三方登录越发显现出其独有的优势。随之而产生的如微信这样的即时通讯类的软件的使用也是相当广泛了。鉴于微信这个平台有着这样广泛的群众基础，并且现在新兴的微信公众平台也可以极大地方便人们的日常生活。基于华师全天排课的缘故，造成有的同学连去食堂吃饭的时间都没有。我们离不开日常生活必需，因而想到了通过微信公众平台的服务号为华师学子提供便捷的服务，能够在预定的时间内有选择性的享受一日三餐。
1.3定义
B/S结构（Browser/Server，浏览器/服务器模式）：是WEB兴起后的一种网络结构模式，WEB浏览器是客户端最主要的应用软件。

电子商务：通常是指是在全球各地广泛的商业贸易活动中，在因特网开放的网络环境下，基于浏览器/服务器应用方式，买卖双方不谋面地进行各种商贸活动，实现消费者的网上购物，商户之间的网上交易和在线电子支付以及各种商务活动、交易活动、金融活动和想过的综合服务活动的一种新型的商业运营模式。
1.4参考资料
	1、《软件工程》  清华大学出版社 叶俊民主编
	2、《概要设计说明书(GB8567--88)》
	3、《微信公共平台开发者文档》  2015年8月12日更新版
2总体设计
2.1需求规定
1、功能：
	a、为华师师生提供点餐功能
	b、搜集并推送学校周边最新的餐饮信息
	c、订餐信息同步至接受订餐的餐厅
	d、统计使用订餐功能的人数
	e、系统维护，操作失误，回滚功能
2、性能
	a、用户界面美观，友好
	b、系统稳定快速，实时控制
	c、准确统计使用订餐功能的人数
	d、结构化模块层次清楚
3、输入/输出
	a、输入：支持学校附近的餐厅的录入，餐厅菜单价位表的录入等
	b、输出：学生订餐信息以小票的形式呈现给餐厅
2.2运行环境
安装有微信的智能手机
2.3基本设计概念和处理流程
该系统主要基于PHP、MYSQL等基础编程和数据库应用技术，建立B/S为结构模式、以数据库或网络数据库为后台支撑、以消费者服务和内部管理为目的的微信公众平台。该系统以餐馆的外卖订餐业务流程为基础，应用信息化的思想和手段，结合互联网思维，将业务流程简化，并实现数据的有效分享，提高外卖订餐业的效率，减少不必要的消耗。
 
2.4结构
 
2.5功能器求与程序的关系
	更新菜品信息数据库	更新订单信息数据库	验证输入信息是否可行	显示订餐成功
客户浏览订餐页面	√			
订餐		√	√	√
修改菜品信息	√			
2.6人工处理过程
本微信订餐系统在餐厅收到订餐信息后，需要工作人员浏览信息并安排送餐人员送餐。
2.7尚未问决的问题
3接口设计
3.1用户接口
窗口化，索引化，在操作时相应热键。
3.2外部接口
硬件结构：无
软件接口：MySQL数据库接口
3.3内部接口
通过面向对象语言设计类，采用MVC格式，在微信页面中实现对类的属性和功能的调用。
4运行设计
4.1运行模块组合
主要以微信自定义菜单为模块，分别实现菜品浏览、订餐和查询下单信息的功能。
4.2运行控制
选择菜品数量为正整数，订餐备注不限制用户的输入。
4.3运行时间
每次操作的时间相应上限为1s，验证码1分钟后失效。
5系统数据结构设计
5.1逻辑结构设计要点
1、菜品表 FOODLIST（菜品名，菜品编号，菜品价格，菜品介绍）
2、订单表 ORDERLIST（订单编号，菜品数量，菜品编号，客户编号）
3、客户表 USERLIST（客户编号，客户姓名，联系电话，地址）

 
顾客表
列名	数据类型	长度	主键
userid	int	4	yes
username	char	5	
useraddr	char	40	
usertel	int	11	



菜品表
列名	数据类型	长度	主键
foodid	int	4	yes
foodname	char	20	
foodprice	float	10	
fooddescribe	char	50	

订单表
列名	数据类型	长度	主键
orderid	int	4	yes
price	float	10	

5.2物理结构设计要点
数据结构为关系型数据库，所以，在程序中可以通过标准的SQL语句与数据结构进行交互，交互过程中采用通用的数据库访问接口。
5.3数据结构与程序的关系
系统的数据结构由标准数据库语言SQL生成。

例如创建系统用户表格的程序用SQL表示就是：
CREATE TABLE[user].[user_Info](
		[userid][char](10)COLLATE Chinese_PRC_CI_AS NOT NULL,
		[usertel][char](10)COLLATE Chinese_PRC_CI_AS NULL,
		[useraddr][char](10)COLLATE Chinese_PRC_CI_AS NULL
) ON [PRIMARY]
6系统出错处理设计
6.1出错信息
	用户登录错误：所输入的客户姓名不符，则弹出错误对话框。
	用户信息错误：所输出用户信息非该用户信息如联系电话不符合规格，或者电话不存在，为数据库连接出现错误；若该用户信息出现差错，则为数据库内部信息有错，应尽快找管理员修改解决。
	页面更新错误：可能因所使用网络状况不佳，页面无法刷新。减少网络负载量。
6.2补救措施
由于数据在数据库中已经有备份，故在系统出错后可以依靠数据库的恢复功能，并且依靠日志文件使系统再启动，就算系统崩溃用户数据也不会丢失或遭到破坏。但有可能占用更多的数据存储空间，权衡措施由用户来决定。
如果死机重启该软件后，可以恢复到前一个故障点，利用恢复再启动技术是软件从故障点恢复执行或使软件从头开始重新运行的方法。
6.3系统维护设计
说明为了系统维护的方便而在程序内部设计中作出的安排，包括在程序中专门安排用于系统的检查与维护的检测点和专用模块。 各个程序之间的对应关系，可采用如下的矩阵图的形式；
